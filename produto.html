<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title id="productPageTitle">Produto - Seja Versátil</title>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Manter as fontes originais do usuário, mas adicionar a Montserrat para o corpo de texto se necessário -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Scripts Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAJ9-qnEhtiRVKiyF2TZcLgVgq5kLZYxSs",
      authDomain: "seja-versatil.firebaseapp.com",
      projectId: "seja-versatil",
      storageBucket: "seja-versatil.firebasestorage.app",
      messagingSenderId: "102339207381",
      appId: "1:102339207381:web:cbe1192e3550cd5bf0825c",
      measurementId: "G-86E5CX4S3T"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();
</script>

  <link rel="stylesheet" href="produto.css">
  <link rel="stylesheet" href="css2.css">
</head>
<body class="product-page">
  
  <!-- Sidebar e Carrinho (Mantidos) -->
  <div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()" aria-hidden="true"></div>
  <aside id="sidebarMenu" class="sidebar-menu" aria-labelledby="sidebarTitle" role="navigation">
    <h3 id="sidebarTitle" class="visually-hidden">Menu</h3>
    <section class="sidebar-section">
      <h4>Explore</h4>
      <ul>
        <li><a href="index.html">Início</a></li>
        <li><a href="index.html#produtos">Produtos</a></li>
      </ul>
    </section>
    <section class="sidebar-section">
      <h4>Categorias</h4>
      <ul>
        <li><a href="index.html?categoria=blusas">Blusas</a></li>
        <li><a href="index.html?categoria=conjunto calca">Conjunto Calça</a></li>
        <li><a href="index.html?categoria=peca unica">Peça Única</a></li>
        <li><a href="index.html?categoria=conjunto short saia">Conjunto Short Saia</a></li>
        <li><a href="index.html?categoria=conjunto short">Conjunto Short</a></li>
      </ul>
    </section>
  </aside>

  <!-- Banner Black Friday (Mantido) -->
  <div class="top-banner black-friday-banner">
      <div class="bf-content">
          <span class="bf-label">BLACK VERSÁTIL | ATÉ 30% OFF</span>
          <span class="bf-separator">|</span>
          <span class="bf-countdown-label">termina em</span>
          <div class="bf-countdown">
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfDays">00</span>
                  <span class="bf-time-label">Dias</span>
              </div>
              <span class="bf-colon">:</span>
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfHours">00</span>
                  <span class="bf-time-label">Horas</span>
              </div>
              <span class="bf-colon">:</span>
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfMinutes">00</span>
                  <span class="bf-time-label">Minutos</span>
              </div>
              <span class="bf-colon">:</span>
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfSeconds">00</span>
                  <span class="bf-time-label">Segundos</span>
              </div>
          </div>
      </div>
  </div>

  <!-- Header (Mantido) -->
  <header class="site-header">
    <nav class="nav">
      <div class="nav-left">
        <button class="hamburger-btn" id="hamburgerBtn" onclick="toggleSidebar()" style="position: relative; top: auto; left: auto; display: none;">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
        <div class="logo" onclick="window.location.href='index.html'">SEJA VERSÁTIL</div>
      </div>
      
      <div class="nav-center">
        <div class="search-bar" style="position: relative;">
          <img src="favicon.ico" alt="Logo" class="search-logo" width="24" height="24" style="margin-right: 8px;">
          
          <input type="text" 
                 id="headerSearchInput" 
                 placeholder="Encontre aqui seu próximo look"
                 autocomplete="off">
          <button class="search-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
          <div id="headerDropdown" class="search-dropdown"></div>
        </div>
      </div>
      
      <div class="nav-icons">
        <div class="nav-icon" onclick="openUserPanel()" title="Minha Conta">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        </div>

        <div class="nav-icon" onclick="goToFavoritesPage()" title="Meus favoritos">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
            <span class="cart-count" id="favoritesCount" style="display: none;">0</span>
        </div>
        
        <div class="nav-icon" onclick="toggleCart()" title="Carrinho">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a 2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            <span id="cartCount" class="cart-count">0</span>
        </div>
      </div>
    </nav>
  </header>

  <!-- Carrinho Lateral (Mantido) -->
  <div id="cartOverlay" class="cart-overlay" onclick="toggleCart()" aria-hidden="true"></div>
  <aside id="cartSidebar" class="cart-sidebar" role="dialog" aria-label="Meu carrinho" aria-hidden="true">
    <div class="cart-header">
      <h3>Meu Carrinho</h3>
      <button class="close-cart" aria-label="Fechar carrinho" onclick="toggleCart()">✕</button>
    </div>
    <div id="cartItems" class="cart-items" aria-live="polite">
      <div class="empty-cart">Seu carrinho está vazio</div>
    </div>
    <div id="cartFooter" class="cart-footer" style="display:none;">
      <div class="cart-total"><span>Total:</span><strong id="cartTotal">R$ 0,00</strong></div>
      <button class="checkout-btn" onclick="checkout()">Finalizar Compra</button>
    </div>
  </aside>

  <main class="product-page-container" role="main">
    <div class="product-main-grid">

      <!-- 1. GALERIA DE IMAGENS (Live! Style) -->
      <div class="product-gallery-section">
        
        <!-- Miniaturas (Thumbnails) - Desktop -->
        <div id="thumbnailContainer" class="product-thumbnails">
          <!-- Thumbnails serão injetadas aqui pelo JS -->
        </div>

        <!-- Imagem Principal / Container de Imagens (Mobile Swipe) -->
        <div id="galleryContainer" class="gallery-container">
          <!-- Imagens serão injetadas aqui pelo JS -->
        </div>
        
        <!-- Botão "Mostrar Mais" (Removido, pois o estilo Live! não usa) -->
        <!-- <button id="btnShowMore" class="btn-show-more" style="display: none;">...</button> -->

      </div>
   
      <!-- 2. INFORMAÇÕES DO PRODUTO (Sticky Desktop) -->
      <div class="product-info-section">
        
        <!-- Breadcrumb (Mantido) -->
        <nav class="breadcrumb">
            <a href="index.html">Início</a> › <span id="breadcrumbCategory">Categoria</span> › <span id="breadcrumbProduct">Produto</span>
        </nav>
        
        <!-- Título e Preço -->
        <div class="product-header-wrapper">
            <div class="header-left">
                <h1 class="product-title" id="detailsProductName">Carregando...</h1>
                <!-- Botão de Favoritos (Mantido) -->
                <button class="btn-favorite" onclick="toggleProductFavorite()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                    Adicionar aos favoritos
                </button>
            </div>

            <div class="product-pricing">
                <span class="price-old-text" id="detailsPriceOld" style="display:none;">De R$ 0,00</span>
                <div class="price-main-row">
                    <span class="price-current" id="detailsPriceNew">R$ --,--</span>
                    <span class="price-discount-badge" id="discountBadge" style="display:none;">-0%</span>
                </div>
                <div class="price-installments" id="detailsInstallments">Em até 10x sem juros</div>
            </div>
        </div>

        <!-- Descrição Curta (Nova) -->
        <div class="short-description-container">
            <p class="short-desc-text" id="shortDescriptionText">Descrição curta do produto...</p>
            <a href="#fullDescription" class="view-full-desc" onclick="scrollToDescription()">Veja descrição completa ›</a>
        </div>

        <!-- Seletores de Cor -->
        <div class="product-selector-group">
            <label class="selector-label">Cor: <span id="selectedColorName">Selecione</span></label>
            <div class="color-options-grid" id="colorSelector"></div>
        </div>
        
        <!-- Seletores de Tamanho -->
        <div class="product-selector-group">
            <label class="selector-label">Tamanho</label>
            <div class="size-options-grid" id="sizeSelector"></div>
            <span id="selectedSizeName" style="display:none;"></span>
            <a href="#" class="size-guide-link" onclick="openSizeGuide()">Tabela de medidas</a>
        </div>

        <!-- Quantidade (Mantido) -->
        <div class="product-selector-group">
            <label class="selector-label">Quantidade</label>
            <div class="quantity-controls">
                <button class="qty-control-btn" type="button" onclick="changeQuantity(-1)">−</button>
                <input type="number" id="productQuantity" value="1" min="1" max="10" readonly>
                <button class="qty-control-btn" type="button" onclick="changeQuantity(1)">+</button>
            </div>
        </div>
        
        <!-- Frete e Entrega (Mantido) -->
        <div class="product-selector-group">
            <label class="selector-label">Frete e Entrega</label>
            <div class="shipping-input-row">
                <input type="text" id="zipCodeInput" class="shipping-input" placeholder="Digite seu CEP" maxlength="9">
                <button class="shipping-calc-btn" onclick="calculateShipping()">CALCULAR</button>
            </div>
            <div class="shipping-results" id="shippingResults"></div>
        </div>

        <!-- Botões de Ação (Comprar e WhatsApp) -->
        <div class="product-action-buttons">
            <button class="btn-primary" onclick="addToCart()">COMPRAR</button>
            <a href="https://wa.me/5547992130633" target="_blank" class="btn-whatsapp-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                COMPRE PELO WHATSAPP
            </a>
        </div>

        <!-- Ícones de Confiança (Mantidos) -->
        <div class="trust-badges-list">
            <div class="trust-badge">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
                <div class="badge-text">
                    <strong>Primeira troca é fácil e gratuita.</strong>
                    <a href="#">Confira as opções de troca aqui.</a>
                </div>
            </div>
            <div class="trust-badge">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M14 19l-7-7 7-7"/><path d="M19 12H7"/></svg>
                <div class="badge-text">
                    <strong>Cuidar do produto o torna mais durável.</strong>
                    <a href="#">Confira os cuidados com o produto.</a>
                </div>
            </div>
        </div>

      </div>
    </div>
    
    <!-- Descrição Completa (Nova Seção) -->
    <section id="fullDescription" class="full-description-section">
        <h2 class="section-title">Descrição Completa</h2>
        <div id="productFullDescription" class="description-content">
            <!-- Descrição completa será injetada aqui pelo JS -->
        </div>
    </section>

    <!-- Compre o Look (Nova Seção) -->
    <section id="buyTheLook" class="buy-the-look-section">
        <h2 class="section-title">Compre o Look</h2>
        <div id="relatedProductsContainer" class="related-products-grid">
            <!-- Produtos relacionados serão injetados aqui pelo JS -->
        </div>
    </section>

  </main>

  <!-- Footer (Mantido) -->
  <footer class="site-footer">
    <div class="footer-content">
        <div class="footer-section">
            <h4>Seja Versátil</h4>
            <ul>
                <li><a href="#">Sobre Nós</a></li>
                <li><a href="#">Contato</a></li>
                <li><a href="#">Trabalhe Conosco</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h4>Ajuda</h4>
            <ul>
                <li><a href="#">Central de Atendimento</a></li>
                <li><a href="#">Trocas e Devoluções</a></li>
                <li><a href="#">Política de Privacidade</a></li>
                <li><a href="#">Termos de Uso</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h4>Minha Conta</h4>
            <ul>
                <li><a href="#">Meus Pedidos</a></li>
                <li><a href="#">Meus Dados</a></li>
                <li><a href="#">Meus Favoritos</a></li>
            </ul>
        </div>
    </div>
    <div class="footer-bottom">
        <p>© 2025 Seja Versátil. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- Scripts JS -->
  <script src="produto.js"></script>
  <script src="utils.js"></script> <!-- Se houver um utils.js, deve ser incluído -->
</body>
</html>
