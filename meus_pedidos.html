<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Gerencie seus dados e acompanhe seus pedidos - Seja Versátil">
  <meta name="theme-color" content="#667eea">
  
  <title>Minha Conta - Seja Versátil</title>
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- CSS Principal do Site -->
  <link rel="stylesheet" href="css2.css?v=1.0.1">
  <link rel="stylesheet" href="auth_styles.css">
  <!-- CSS Específico da Página -->
  <link rel="stylesheet" href="meus_pedidos.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAJ9-qnEhtiRVKiyF2TZcLgVgq5kLZYxSs",
      authDomain: "seja-versatil.firebaseapp.com",
      projectId: "seja-versatil",
      storageBucket: "seja-versatil.firebasestorage.app",
      messagingSenderId: "102339207381",
      appId: "1:102339207381:web:cbe1192e3550cd5bf0825c",
      measurementId: "G-86E5CX4S3T"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();
  </script>
</head>

<body>
  <a href="#mainContent" class="skip-link">Pular para conteúdo principal</a>

  <!-- Top Banner -->
  <div class="top-banner-rotative">
    <div class="banner-message active">FRETE GRÁTIS para todo Brasil nas compras acima de R$ 399,90</div>
    <div class="banner-message">PARCELE EM ATÉ <strong>3X SEM JUROS</strong> no cartão de crédito</div>
    <div class="banner-message">GANHE <strong>10% DE DESCONTO NO PIX</strong> pagando no PIX</div>
  </div>

  <!-- Header -->
  <header>
    <nav>
      <button class="hamburger-btn" id="hamburgerBtn" onclick="window.location.href='index.html'" aria-label="Voltar">
        <span style="font-size: 1.5rem;">←</span>
      </button>
      
      <div class="logo" onclick="window.location.href='index.html'">SEJA VERSÁTIL</div>
      
      <div class="nav-icons">
        <div class="nav-icon" onclick="window.location.href='index.html'" title="Voltar à loja">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main id="mainContent" class="account-page">
    <div class="account-container">
      
      <!-- Sidebar / Menu Lateral -->
      <aside class="account-sidebar">
        <div class="account-header">
          <div class="account-avatar">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
          <h1 class="account-name" id="accountUserName">Carregando...</h1>
          <p class="account-email" id="accountUserEmail">---</p>
        </div>

        <nav class="account-menu">
          <button class="account-menu-item active" data-section="dados" onclick="switchSection('dados')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Meus Dados</span>
          </button>
          
          <button class="account-menu-item" data-section="pedidos" onclick="switchSection('pedidos')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
            <span>Meus Pedidos</span>
            <span class="menu-badge" id="ordersBadge" style="display: none;">0</span>
          </button>

          <button class="account-menu-item" onclick="window.location.href='index.html'">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            </svg>
            <span>Voltar à Loja</span>
          </button>

          <button class="account-menu-item logout-btn" onclick="handleLogout()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            <span>Sair da Conta</span>
          </button>
        </nav>
      </aside>

      <!-- Content Area -->
      <section class="account-content">
        
        <!-- SEÇÃO: MEUS DADOS -->
        <div id="sectionDados" class="account-section active">
          <div class="section-header">
            <h2>Meus Dados</h2>
            <p>Gerencie suas informações pessoais e endereço</p>
          </div>

          <form id="formDadosPessoais" class="account-form">
            <div class="form-card">
              <h3 class="form-card-title">Informações Pessoais</h3>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="inputNomeCompleto">Nome Completo *</label>
                  <input type="text" id="inputNomeCompleto" required minlength="3">
                </div>
                
                <div class="form-group">
                  <label for="inputEmailPerfil">E-mail</label>
                  <input type="email" id="inputEmailPerfil" disabled>
                  <small>O e-mail não pode ser alterado</small>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="inputTelefonePerfil">WhatsApp / Telefone *</label>
                  <input type="tel" id="inputTelefonePerfil" placeholder="(XX) XXXXX-XXXX" required>
                </div>
                
                <div class="form-group">
                  <label for="inputCPFPerfil">CPF *</label>
                  <input type="text" id="inputCPFPerfil" placeholder="000.000.000-00" required maxlength="14">
                </div>
              </div>
            </div>

            <div class="form-card">
              <h3 class="form-card-title">Endereço de Entrega</h3>
              
              <div class="form-row">
                <div class="form-group form-group-small">
                  <label for="inputCEPPerfil">CEP *</label>
                  <input type="text" id="inputCEPPerfil" placeholder="00000-000" required maxlength="9">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="inputRuaPerfil">Rua / Logradouro *</label>
                  <input type="text" id="inputRuaPerfil" required>
                </div>
                
                <div class="form-group form-group-small">
                  <label for="inputNumeroPerfil">Número *</label>
                  <input type="text" id="inputNumeroPerfil" required>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="inputBairroPerfil">Bairro *</label>
                  <input type="text" id="inputBairroPerfil" required>
                </div>
                
                <div class="form-group">
                  <label for="inputComplementoPerfil">Complemento</label>
                  <input type="text" id="inputComplementoPerfil" placeholder="Apto, bloco, etc.">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="inputCidadePerfil">Cidade *</label>
                  <input type="text" id="inputCidadePerfil" required>
                </div>
                
                <div class="form-group form-group-small">
                  <label for="inputUFPerfil">UF *</label>
                  <select id="inputUFPerfil" required>
                    <option value="">Selecione</option>
                    <option value="AC">AC</option>
                    <option value="AL">AL</option>
                    <option value="AP">AP</option>
                    <option value="AM">AM</option>
                    <option value="BA">BA</option>
                    <option value="CE">CE</option>
                    <option value="DF">DF</option>
                    <option value="ES">ES</option>
                    <option value="GO">GO</option>
                    <option value="MA">MA</option>
                    <option value="MT">MT</option>
                    <option value="MS">MS</option>
                    <option value="MG">MG</option>
                    <option value="PA">PA</option>
                    <option value="PB">PB</option>
                    <option value="PR">PR</option>
                    <option value="PE">PE</option>
                    <option value="PI">PI</option>
                    <option value="RJ">RJ</option>
                    <option value="RN">RN</option>
                    <option value="RS">RS</option>
                    <option value="RO">RO</option>
                    <option value="RR">RR</option>
                    <option value="SC">SC</option>
                    <option value="SP">SP</option>
                    <option value="SE">SE</option>
                    <option value="TO">TO</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-save">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                  <polyline points="17 21 17 13 7 13 7 21"></polyline>
                  <polyline points="7 3 7 8 15 8"></polyline>
                </svg>
                Salvar Alterações
              </button>
            </div>
          </form>
        </div>

        <!-- SEÇÃO: MEUS PEDIDOS -->
        <div id="sectionPedidos" class="account-section">
          <div class="section-header">
            <h2>Meus Pedidos</h2>
            <p>Acompanhe o histórico das suas compras</p>
          </div>

          <!-- Loading State -->
          <div id="ordersLoading" class="orders-loading">
            <div class="loading-spinner">
              <div class="loading-dot"></div>
              <div class="loading-dot"></div>
              <div class="loading-dot"></div>
            </div>
            <p>Carregando seus pedidos...</p>
          </div>

          <!-- Empty State -->
          <div id="ordersEmpty" class="orders-empty" style="display: none;">
            <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
            <h3>Nenhum pedido ainda</h3>
            <p>Seus pedidos aparecerão aqui após a finalização</p>
            <button onclick="window.location.href='index.html'" class="btn-primary">
              Ir às Compras
            </button>
          </div>

          <!-- Orders List -->
          <div id="ordersList" class="orders-list" style="display: none;"></div>
        </div>

      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer id="sobre">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Seja Versátil</h4>
        <p style="color: #666; font-size: 0.8rem; line-height: 1.7;">
          Moda fitness feminina com estilo e qualidade.
        </p>
      </div>
      <div class="footer-section">
        <h4>Contato</h4>
        <ul>
          <li><a href="mailto:contato@sejaversatil.com.br">contato@sejaversatil.com.br</a></li>
          <li><a href="tel:+5571991427103">(71) 99142-7103</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Seja Versátil. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- WhatsApp Float Button -->
  <a href="https://wa.me/5571991427103" class="whatsapp-float" target="_blank" rel="noopener noreferrer" aria-label="Falar no WhatsApp">
    <svg viewBox="0 0 48 48" fill="white">
      <path d="M4.868 43.303l2.694-9.835C5.9 30.59 5.026 27.324 5.027 23.979c.002-10.763 8.766-19.525 19.532-19.525 5.215.002 10.115 2.031 13.8 5.713 3.685 3.684 5.713 8.584 5.711 13.796-.002 10.763-8.767 19.524-19.532 19.524h-.008c-3.177-.001-6.3-.798-9.073-2.311l-9.457 2.127zm10.477-6.052l.575.341c2.57 1.526 5.527 2.334 8.554 2.335h.006c8.948 0 16.232-7.282 16.234-16.229.001-4.339-1.688-8.418-4.755-11.484-3.067-3.066-7.148-4.753-11.489-4.755-8.951 0-16.235 7.282-16.237 16.228-.001 3.196.935 6.314 2.707 9.013l.374.595-1.588 5.801 5.619-1.445z"/>
    </svg>
  </a>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner">
      <div class="loading-dot"></div>
      <div class="loading-dot"></div>
      <div class="loading-dot"></div>
    </div>
    <div class="loading-text">Processando...</div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer" style="position: fixed; bottom: 20px; right: 20px; z-index: 10000;"></div>

  <!-- Scripts -->
  <script src="auth.js"></script>
  <script src="meus_pedidos.js"></script>
</body>
</html>


