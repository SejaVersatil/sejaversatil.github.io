<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <link rel="dns-prefetch" href="https://firebasestorage.googleapis.com">
  <link rel="dns-prefetch" href="https://www.gstatic.com">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Compre moda fitness feminina com estilo e qualidade na Seja Vers√°til.">
  <title id="productPageTitle">Produto - Seja Vers√°til</title>
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- LINKS DE CSS REFATORADOS -->
  <link rel="stylesheet" href="style.css"> <!-- CSS Global (antigo css2.txt) -->
  <link rel="stylesheet" href="produto.css"> <!-- CSS Espec√≠fico do Produto (antigo produtocss.txt) -->

  <!-- CONFIGURA√á√ÉO FIREBASE (MANTIDA NO HEAD POR SER GLOBAL) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAJ9-qnEhtiRVKiyF2TZcLgVgq5kLZYxSs", // Chave simulada, substitua pela real
      authDomain: "seja-versatil.firebaseapp.com",
      projectId: "seja-versatil",
      storageBucket: "seja-versatil.firebasestorage.app",
      messagingSenderId: "102339207381",
      appId: "1:102339207381:web:cbe1192e3550cd5bf0825c",
      measurementId: "G-86E5CX4S3T"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();
    const storage = firebase.storage();
  </script>
</head>

<body class="product-page">
  
  <!-- SIDEBAR E CARRINHO (MANTIDOS PARA REUTILIZA√á√ÉO) -->
  <div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()" aria-hidden="true"></div>
  <aside id="sidebarMenu" class="sidebar-menu" aria-labelledby="sidebarTitle" role="navigation">
    <h3 id="sidebarTitle" class="visually-hidden">Menu</h3>
    <section class="sidebar-section">
      <h4>Explore</h4>
      <ul>
        <li><a href="index.html">In√≠cio</a></li>
        <li><a href="index.html#produtos">Produtos</a></li>
      </ul>
    </section>
    <section class="sidebar-section">
      <h4>Categorias</h4>
      <ul>
        <li><a href="index.html?categoria=blusas">Blusas</a></li>
        <li><a href="index.html?categoria=conjunto calca">Conjunto Cal√ßa</a></li>
        <li><a href="index.html?categoria=peca unica">Pe√ßa √önica</a></li>
        <li><a href="index.html?categoria=conjunto short saia">Conjunto Short Saia</a></li>
        <li><a href="index.html?categoria=conjunto short">Conjunto Short</a></li>
      </ul>
    </section>
  </aside>

  <div class="top-banner black-friday-banner">
      <div class="bf-content">
          <span class="bf-label">BLACK VERS√ÅTIL | AT√â 50% OFF</span>
          <span class="bf-separator">|</span>
          <span class="bf-countdown-label">termina em</span>
          <div class="bf-countdown">
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfDays">00</span>
                  <span class="bf-time-label">Dias</span>
              </div>
              <span class="bf-colon">:</span>
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfHours">00</span>
                  <span class="bf-time-label">Horas</span>
              </div>
              <span class="bf-colon">:</span>
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfMinutes">00</span>
                  <span class="bf-time-label">Minutos</span>
              </div>
              <span class="bf-colon">:</span>
              <div class="bf-time-unit">
                  <span class="bf-time-value" id="bfSeconds">00</span>
                  <span class="bf-time-label">Segundos</span>
              </div>
          </div>
      </div>
  </div>

  <header class="site-header">
    <nav class="nav">
      <div class="nav-left">
        <button class="hamburger-btn" id="hamburgerBtn" onclick="toggleSidebar()" type="button" style="position: relative; top: auto; left: auto; display: none;">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
        <div class="logo" onclick="window.location.href='index.html'">SEJA VERS√ÅTIL</div>
      </div>
      
      <div class="nav-center">
        <div class="search-bar" style="position: relative;">
          <img src="favicon.ico" alt="Logo" class="search-logo" width="24" height="24" style="margin-right: 8px;">
          <input type="text" id="headerSearchInput" placeholder="Encontre aqui seu pr√≥ximo look" autocomplete="off">
          <button class="search-btn" type="button">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
          <div id="headerDropdown" class="search-dropdown"></div>
        </div>
      </div>
      
      <div class="nav-icons">
        <div class="nav-icon" onclick="openUserPanel()" title="Minha Conta" role="button" tabindex="0">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        </div>

        <div class="nav-icon" onclick="goToFavoritesPage()" title="Meus favoritos" role="button" tabindex="0">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
            <span class="cart-count" id="favoritesCount" style="display: none;">0</span>
        </div>
        
        <div class="nav-icon" onclick="toggleCart()" title="Carrinho" role="button" tabindex="0">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a 2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            <span id="cartCount" class="cart-count">0</span>
        </div>
      </div>
    </nav>
  </header>

  <!-- CARRINHO (REUTILIZADO DO INDEX) -->
  <div id="cartOverlay" class="cart-overlay" onclick="toggleCart()" aria-hidden="true"></div>
  <aside id="cartSidebar" class="cart-sidebar" role="dialog" aria-label="Meu carrinho" aria-hidden="true">
    <div class="cart-header">
      <h3>Meu Carrinho</h3>
      <button class="close-cart" aria-label="Fechar carrinho" onclick="toggleCart()" type="button">‚úï</button>
    </div>
    <div id="cartItems" class="cart-items" aria-live="polite">
      <div class="empty-cart">Seu carrinho est√° vazio</div>
    </div>
    <div id="cartFooter" class="cart-footer" style="display:none;">
  
  <!-- Sistema de Cupons -->
  <div class="coupon-section">
    <h4>üéüÔ∏è Cupom de Desconto</h4>
    <div class="coupon-input-row">
      <input type="text" 
             class="coupon-input" 
             id="couponInput" 
             placeholder="Digite o c√≥digo" 
             maxlength="20"
             autocomplete="off">
      <button class="coupon-apply-btn" 
              id="applyCouponBtn" 
              type="button"
              onclick="applyCoupon()">
        APLICAR
      </button>
    </div>
    <div class="coupon-message" id="couponMessage"></div>
    <div class="applied-coupon-badge" id="appliedCouponBadge" style="display: none;">
      <div class="applied-coupon-info">
        <span class="applied-coupon-code" id="appliedCouponCode"></span>
        <span class="applied-coupon-discount" id="appliedCouponDiscount"></span>
      </div>
      <button class="remove-coupon-btn" type="button" onclick="removeCoupon()" title="Remover cupom">‚úï</button>
    </div>
  </div>
  
  <!-- Total com Desconto -->
  <div class="cart-total">
    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.95rem;">
      <span>Subtotal:</span>
      <span id="cartSubtotal">R$ 0,00</span>
    </div>
    <div class="discount-breakdown" id="discountBreakdown" style="display: none;">
      <span>Desconto:</span>
      <span id="discountValue">- R$ 0,00</span>
    </div>
    <div style="display: flex; justify-content: space-between; font-size: 1.1rem; font-weight: 700; padding-top: 0.5rem; border-top: 2px solid var(--primary); margin-top: 0.5rem;">
      <span>Total:</span>
      <span id="cartTotal">R$ 0,00</span>
    </div>
  </div>
  
  <button class="checkout-btn" onclick="checkout()" type="button">Finalizar Compra</button>
</div>
  </aside>

  <!-- PAINEL DE USU√ÅRIO/AUTENTICA√á√ÉO (Copiado de index.html) -->
  <div class="user-panel" id="userPanel">
    <div class="user-header">
      <h3>Minha Conta</h3>
      <span class="close-user-panel" onclick="closeUserPanel()">‚úï</span>
    </div>
    <div class="user-content">
      <div class="user-tabs-nav">
        <button class="user-tab-btn active" onclick="switchUserTab('login')">Login</button>
        <button class="user-tab-btn" onclick="switchUserTab('register')">Criar Conta</button>
      </div>

      <div class="user-tabs-container">
        <div class="user-tab-content active" id="loginTab">
          <form onsubmit="userLogin(event)">
            <div class="form-group">
              <label for="loginEmail">E-mail</label>
              <input type="email" id="loginEmail" required autocomplete="email">
            </div>
            <div class="form-group">
              <label for="loginPassword">Senha</label>
              <input type="password" id="loginPassword" required autocomplete="current-password">
            </div>
            <button type="submit" class="form-btn">Entrar</button>
            <div class="form-error" id="loginError">E-mail ou senha incorretos</div>
          </form>
          <div class="form-link">
            <a href="#" onclick="resetPassword(); return false;">Esqueceu a senha?</a>
          </div>
          <div class="form-link">
            N√£o tem conta? <a href="#" onclick="switchUserTab('register'); return false;">Crie uma aqui</a>
          </div>
        </div>

        <div class="user-tab-content" id="registerTab">
          <form onsubmit="userRegister(event)">
            <div class="form-group">
              <label for="registerName">Nome Completo</label>
              <input type="text" id="registerName" required>
            </div>
            <div class="form-group">
              <label for="registerEmail">E-mail</label>
              <input type="email" id="registerEmail" required autocomplete="email">
            </div>
            <div class="form-group">
              <label for="registerPassword">Senha</label>
              <input type="password" id="registerPassword" required>
            </div>
            <div class="form-group">
              <label for="registerConfirmPassword">Confirmar Senha</label>
              <input type="password" id="registerConfirmPassword" minlength="6" required>
            </div>
            <button type="submit" class="form-btn">Criar Conta</button>
            <div class="form-error" id="registerError">Erro ao criar conta</div>
            <div class="form-success" id="registerSuccess">Conta criada com sucesso! Verifique seu email.</div>
          </form>
          <div class="form-link">
            J√° tem conta? <a href="#" onclick="switchUserTab('login'); return false;">Entre aqui</a>
          </div>
        </div>

        <div class="user-tab-content" id="userLoggedTab">
          <div class="user-logged-in">
            <h4>Bem-vindo(a)! <span id="userName"></span></h4>
            <div class="user-info">
              <p><strong>E-mail:</strong> <span id="userEmail"></span></p>
              <p><strong>Status:</strong> <span id="userStatus">Cliente</span></p>
            </div>
            <div class="user-actions">
              <button class="user-action-btn" onclick="alert('Funcionalidade em desenvolvimento!')"> Meus Pedidos</button>
              <button class="user-action-btn" onclick="alert('Funcionalidade em desenvolvimento!')">Meus Dados</button>
              <button class="user-action-btn admin" id="adminAccessBtn" style="display: none;" onclick="openAdminPanel(); closeUserPanel()">üîß Painel Administrativo</button>
              <button class="user-action-btn logout" onclick="userLogout()">Sair da Conta</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PAINEL ADMINISTRATIVO (Copiado de index.html) -->
  <div class="admin-panel" id="adminPanel">
    <div class="admin-header">
      <h2>üîß Painel Administrativo - Seja Vers√°til</h2>
      <button class="admin-close" onclick="closeAdminPanel()" aria-label="Fechar">Sair do Painel</button>
    </div>
    <div class="admin-content">
      <div class="admin-stats">
        <div class="stat-card">
          <h4 id="totalProducts">0</h4>
          <p>Total de Produtos</p>
        </div>
        <div class="stat-card">
          <h4 id="totalRevenue">R$ 0</h4>
          <p>Valor em Estoque</p>
        </div>
        <div class="stat-card">
          <h4 id="totalOrders">0</h4>
          <p>Pedidos (simulado)</p>
        </div>
        <div class="stat-card">
          <h4 id="activeProducts">0</h4>
          <p>Produtos Ativos</p>
        </div>
      </div>

      <div class="admin-tabs">
        <button class="admin-tab active" onclick="switchAdminTab('products')">Produtos</button>
        <button class="admin-tab" onclick="switchAdminTab('settings')">Configura√ß√µes</button>
        <button class="admin-tab" onclick="switchAdminTab('coupons')">Cupons</button>
      </div>

      <div class="admin-tab-content active" id="productsTab">
        <button class="admin-btn admin-btn-add" onclick="openProductModal()">+ Adicionar Novo Produto</button>
        <div class="admin-products-grid" id="adminProductsGrid"></div>
      </div>

      <div class="admin-tab-content" id="settingsTab">
        <h3 style="margin-bottom: 1.5rem;">Configura√ß√µes do Site</h3>
        <div class="admin-form-group">
          <label for="settingBannerTitle">Banner Principal - Texto 1</label>
          <input type="text" id="settingBannerTitle" value="Seja Vers√°til">
        </div>

        <div class="admin-form-group">
          <label for="settingBannerSubtitle">Banner Principal - Subt√≠tulo</label>
          <input type="text" id="settingBannerSubtitle" value="Seja Voc√™, Seja Vers√°til">
        </div>
        <div class="admin-form-group">
          <label for="settingTopBanner">Mensagem do Banner de Promo√ß√£o</label>
          <input type="text" id="settingTopBanner" value="Frete Gr√°tis acima de R$ 299 | Parcele em at√© 6x sem juros">
        </div>
        <div class="admin-form-group">
          <label style="color: #e74c3c;">‚ö†Ô∏è √Årea de Perigo</label>
          <button class="admin-btn admin-btn-delete" onclick="limparTodosProdutos()" style="width: 100%;">üóëÔ∏è Limpar TODOS os Produtos do Firestore</button>
          <p style="font-size: 0.75rem; color: #999; margin-top: 0.5rem;">Esta a√ß√£o n√£o pode ser desfeita! Use apenas para testes.</p>
        </div>
        <!-- GERENCIAMENTO DE V√çDEOS -->
        <div class="admin-form-group" style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e5e5;">
          <label style="color: #667eea;">üé¨ Gerenciar Grid de V√≠deos</label>
          <button class="admin-btn admin-btn-add" onclick="openVideoManager()" style="width: 100%;">
            üìπ Abrir Gerenciador de V√≠deos
          </button>
          <p style="font-size: 0.75rem; color: #999; margin-top: 0.5rem;">
            Adicione at√© 5 v√≠deos de 5-10 segundos (m√°x 2MB cada)
          </p>
        </div>
        <button class="admin-btn admin-btn-add" onclick="saveSettings()">Salvar Configura√ß√µes</button>
      </div>

      <!-- Nova Aba de Cupons -->
      <div class="admin-tab-content" id="couponsTab">
        <button class="admin-btn admin-btn-add" onclick="openCouponModal()">+ Criar Novo Cupom</button>
        
        <div style="margin-top: 2rem;">
          <h3 style="margin-bottom: 1rem;">Cupons Ativos</h3>
          <div id="activeCouponsList" class="coupons-list"></div>
        </div>
        
        <div style="margin-top: 2rem;">
          <h3 style="margin-bottom: 1rem;">Cupons Inativos/Expirados</h3>
          <div id="inactiveCouponsList" class="coupons-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL DE PRODUTO (CRUD) (Copiado de index.html) -->
  <div class="admin-modal" id="productModal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="admin-modal-content" style="max-width: 900px;">
      <div class="admin-modal-header">
        <h3 id="modalTitle">Adicionar Produto</h3>
        <button class="admin-close" onclick="closeProductModal()">‚úï</button>
      </div>
      <form id="productForm" onsubmit="saveProduct(event)" novalidate>
        <input type="hidden" id="productId">
        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="productName">Nome do Produto *</label>
            <input type="text" id="productName" required>
          </div>
          <div class="admin-form-group">
            <label for="productCategory">Categoria *</label>
            <select id="productCategory" required>
              <option value="blusas">Blusas</option>
              <option value="conjunto calca">Conjunto Cal√ßa</option>
              <option value="peca unica">Pe√ßa √önica</option>
              <option value="conjunto short saia">Conjunto Short Saia</option>
              <option value="conjunto short">Conjunto Short</option>
            </select>
          </div>
        </div>

        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="productPrice">Pre√ßo Atual (R$) *</label>
            <input type="number" id="productPrice" step="0.01" required min="0">
          </div>
          <div class="admin-form-group">
            <label for="productOldPrice">Pre√ßo Antigo (R$)</label>
            <input type="number" id="productOldPrice" step="0.01" min="0">
          </div>
          <div class="admin-form-group">
            <label for="productBadge">Badge (Ex: Novo, -30%)</label>
            <input type="text" id="productBadge" maxlength="10">
          </div>
          <div class="admin-form-group" style="display: flex; align-items: center; margin-top: 1.5rem;">
            <label for="productBlackFriday" style="margin-right: 1rem;">
              <input type="checkbox" id="productBlackFriday" style="width: auto; margin-right: 0.5rem;">
              Black Friday
            </label>
          </div>
        </div>

        <!-- Gerenciamento de Imagens e Cores -->
        <div class="admin-form-section">
          <h4>Imagens e Cores</h4>
          <p class="form-tip">Adicione as imagens de uma cor. Depois, clique em "Adicionar Cor" para salvar e come√ßar a adicionar as imagens da pr√≥xima cor.</p>
          
          <div class="admin-form-row">
            <div class="admin-form-group" style="flex: 1;">
              <label for="imageUpload">Upload de Imagens</label>
              <input type="file" id="imageUpload" multiple accept="image/*" onchange="handleImageUpload(event)">
            </div>
            <div class="admin-form-group" style="flex: 1;">
              <label>Op√ß√µes Avan√ßadas</label>
              <div style="display: flex; gap: 10px;">
                <button type="button" class="admin-btn-secondary" onclick="toggleUrlInput()">URL</button>
                <button type="button" class="admin-btn-secondary" onclick="toggleGradientInput()">Gradiente</button>
                <button type="button" class="admin-btn-add" onclick="addColorToProduct()">+ Adicionar Cor</button>
              </div>
            </div>
          </div>

          <!-- Input de URL -->
          <div class="admin-form-row" id="imageUrlInputBox" style="display: none; margin-top: 10px;">
            <input type="text" id="imageUrlField" placeholder="Cole a URL da imagem aqui">
            <button type="button" class="admin-btn-add" onclick="addImageFromUrl()">Adicionar URL</button>
          </div>

          <!-- Input de Gradiente -->
          <div class="admin-form-row" id="imageGradientInputBox" style="display: none; margin-top: 10px;">
            <input type="text" id="gradientField" placeholder="Ex: linear-gradient(to right, #ff7e5f, #feb47b)">
            <button type="button" class="admin-btn-add" onclick="addGradientImage()">Adicionar Gradiente</button>
          </div>

          <!-- Lista de Imagens Tempor√°rias -->
          <div class="admin-form-group">
            <label>Imagens da Cor Atual (ser√£o salvas ao clicar em "Adicionar Cor")</label>
            <div class="image-list-admin" id="productImagesList">
              <p style="color: #999; font-size: 0.85rem; text-align: center;">Nenhuma imagem adicionada ainda</p>
            </div>
          </div>

          <!-- Lista de Cores Salvas -->
          <div class="admin-form-group">
            <label>Cores Salvas</label>
            <div class="color-list-admin" id="productColorsManager">
              <p style="color: #999; font-size: 0.85rem; text-align: center;">Nenhuma cor adicionada ainda</p>
            </div>
          </div>
        </div>

        <div class="admin-form-actions">
          <button type="submit" class="admin-btn-save">Salvar Produto</button>
          <button type="button" class="admin-btn-cancel" onclick="closeProductModal()">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal de Cupom (Copiado de index.html) -->
  <div class="admin-modal" id="couponModal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="admin-modal-content" style="max-width: 600px;">
      <div class="admin-modal-header">
        <h3>Criar/Editar Cupom</h3>
        <button class="admin-close" onclick="closeCouponModal()">‚úï</button>
      </div>
      
      <form id="couponForm" onsubmit="saveCoupon(event)" novalidate>
        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="couponCode">C√≥digo do Cupom *</label>
            <input type="text" id="couponCode" required maxlength="20" style="text-transform: uppercase;">
          </div>
          
          <div class="admin-form-group">
            <label for="couponType">Tipo de Desconto *</label>
            <select id="couponType" required onchange="toggleMaxDiscount()">
              <option value="percentage">Porcentagem (%)</option>
              <option value="fixed">Valor Fixo (R$)</option>
            </select>
          </div>
        </div>
        
        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="couponValue">Valor do Desconto *</label>
            <input type="number" id="couponValue" step="0.01" required min="0">
          </div>
          
          <div class="admin-form-group" id="maxDiscountGroup">
            <label for="couponMaxDiscount">Desconto M√°ximo (R$)</label>
            <input type="number" id="couponMaxDiscount" step="0.01" min="0">
          </div>
        </div>
        
        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="couponMinValue">Valor M√≠nimo do Carrinho (R$)</label>
            <input type="number" id="couponMinValue" step="0.01" min="0">
          </div>
          
          <div class="admin-form-group">
            <label for="couponUsageLimit">Limite Total de Usos</label>
            <input type="number" id="couponUsageLimit" min="1">
          </div>
        </div>
        
        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="couponUsagePerUser">Usos por Usu√°rio</label>
            <input type="number" id="couponUsagePerUser" min="1">
          </div>
          
          <div class="admin-form-group" style="display: flex; align-items: center; margin-top: 1.5rem;">
            <label for="couponActive" style="margin-right: 1rem;">
              <input type="checkbox" id="couponActive" checked style="width: auto; margin-right: 0.5rem;">
              Cupom Ativo
            </label>
          </div>
        </div>
        
        <div class="admin-form-row">
          <div class="admin-form-group">
            <label for="couponValidFrom">V√°lido A Partir De</label>
            <input type="datetime-local" id="couponValidFrom">
          </div>
          
          <div class="admin-form-group">
            <label for="couponValidUntil">V√°lido At√©</label>
            <input type="datetime-local" id="couponValidUntil">
          </div>
        </div>
        
        <input type="hidden" id="couponId">
        
        <div class="admin-form-actions">
          <button type="submit" class="admin-btn-save">Salvar Cupom</button>
          <button type="button" class="admin-btn-cancel" onclick="closeCouponModal()">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- VIDEO MANAGER MODAL (Copiado de index.html) -->
  <div class="admin-modal" id="videoManagerModal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="admin-modal-content" style="max-width: 800px;">
      <div class="admin-modal-header">
        <h3>üé¨ Gerenciar V√≠deos da Home</h3>
        <button class="admin-close" onclick="closeVideoManager()" aria-label="Fechar">‚úï</button>
      </div>
      
      <div style="padding: 1.5rem;">
        <div class="video-manager-list" id="videoManagerList">
          <!-- V√≠deos ser√£o renderizados aqui -->
        </div>
        
        <div class="admin-form-group" style="margin-top: 2rem; border-top: 1px solid #eee; padding-top: 1rem;">
          <label for="videoUpload">Upload de Novo V√≠deo (MP4, WebM)</label>
          <input type="file" id="videoUpload" accept="video/mp4,video/webm" onchange="handleVideoUpload(event)">
          <p style="font-size: 0.75rem; color: #999; margin-top: 0.5rem;">M√°ximo 2MB por arquivo. Adicione um t√≠tulo e ordem ap√≥s o upload.</p>
        </div>
      </div>
    </div>
  </div>

  <main class="product-page-container" role="main">
    <div class="product-main-grid">

      <div class="product-gallery-section">
    <button class="btn-favorite-floating" id="favoriteBtn" onclick="toggleProductFavorite()" aria-label="Adicionar aos favoritos" type="button">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
    </button>

    <div id="galleryContainer" class="gallery-container">
        <div class="gallery-photo-full" id="heroWrapper1">
            <img id="mainImg1" src="" alt="Imagem Principal 1" style="width:100%;height:100%;object-fit:cover;">
        </div>

        <div class="gallery-photo-full" id="heroWrapper2">
            <img id="mainImg2" src="" alt="Imagem Principal 2" style="width:100%;height:100%;object-fit:cover;">
        </div>
    </div>

    <!-- ‚ö†Ô∏è CR√çTICO: thumbnailList FORA do galleryContainer -->
    <div id="thumbnailList" class="thumbnail-grid"></div>

    <button id="btnShowMore" class="btn-show-more" style="display: none;" onclick="toggleGalleryExpansion()" type="button">
        MOSTRAR MAIS 
        <svg width="10" height="6" viewBox="0 0 10 6" fill="none" stroke="currentColor">
            <path d="M1 1L5 5L9 1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
</div>

      <div class="product-details-section">
        <div class="product-header">
          <h1 id="productName"></h1>
          <p class="product-category" id="productCategory"></p>
        </div>

        <div class="product-price-info">
          <div class="price-group">
            <span class="price-old" id="productOldPrice"></span>
            <span class="price-new" id="productPrice"></span>
          </div>
          <p class="installments-info" id="installmentsInfo">Em at√© 6x sem juros</p>
        </div>

        <div class="product-options">
          <!-- Op√ß√£o de Cor -->
          <div class="product-option">
            <label>Cor: <span id="selectedColorDisplay"></span></label>
            <div class="color-selector" id="colorSelector">
              <!-- Cores ser√£o injetadas aqui -->
            </div>
          </div>

          <!-- Op√ß√£o de Tamanho -->
          <div class="product-option">
            <label>Tamanho: <span id="selectedSizeDisplay"></span></label>
            <div class="size-selector" id="sizeSelector">
              <!-- Tamanhos ser√£o injetados aqui -->
            </div>
            <p class="stock-info" id="stockInfo"></p>
          </div>

          <!-- Op√ß√£o de Quantidade -->
          <div class="product-option quantity-selector">
            <label>Quantidade:</label>
            <div class="quantity-control">
              <button onclick="updateQuantityControl(-1)" type="button">-</button>
              <input type="number" id="quantityInput" value="1" min="1" max="10" readonly>
              <button onclick="updateQuantityControl(1)" type="button">+</button>
            </div>
          </div>
        </div>

        <div class="product-actions">
          <button class="btn-add-cart-large" onclick="addToCartFromDetails()" type="button">
            ADICIONAR AO CARRINHO
          </button>
          <button class="btn-buy-now" onclick="buyNow()" type="button">
            COMPRAR AGORA
          </button>
        </div>

        <div class="product-info-tabs">
          <div class="tabs-header">
            <button class="tab-btn active" onclick="switchTab('description')" type="button">Descri√ß√£o</button>
            <button class="tab-btn" onclick="switchTab('specs')" type="button">Especifica√ß√µes</button>
          </div>
          <div class="tabs-content">
            <div class="tab-content active" id="descriptionTab">
              <p id="productDescription">Carregando descri√ß√£o...</p>
            </div>
            <div class="tab-content" id="specsTab">
              <ul id="productSpecs">
                <li>Material: Poliamida de alta compress√£o</li>
                <li>Tecnologia: Secagem r√°pida e prote√ß√£o UV50+</li>
                <li>Cores: Variadas</li>
                <li>Tamanhos: P, M, G, GG</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <section class="related-products-section">
      <h2>Looks Relacionados</h2>
      <div class="related-products-grid" id="relatedProductsGrid">
        <!-- Produtos relacionados ser√£o injetados aqui -->
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Seja Vers√°til</h4>
        <p>Moda fitness feminina com estilo e qualidade.</p>
        <div class="social-icons">
          <a href="https://instagram.com/_sejaversatil" target="_blank" rel="noopener noreferrer" aria-label="Instagram">üì∑</a>
          <a href="https://wa.me/5571991427103" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp">üí¨</a>
        </div>
      </div>
      <div class="footer-section">
        <h4>Links R√°pidos</h4>
        <ul>
            <li><a href="index.html">In√≠cio</a></li>
            <li><a href="index.html#produtos">Produtos</a></li>
            <li><a href="#">Sobre N√≥s</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2025 Seja Vers√°til. Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="loadingOverlay" class="loading-overlay" aria-hidden="true">
      <div class="loading-spinner">‚è≥</div>
      <div class="loading-text">Carregando...</div>
  </div>

  <!-- SCRIPTS REFATORADOS -->
  <script src="main.js" defer></script> <!-- Fun√ß√µes globais (antigo script2.txt) -->
  <script src="produto.js" defer></script> <!-- Fun√ß√µes espec√≠ficas do produto (antigo produtojs.txt) -->

  <script>
    // Fun√ß√µes de simula√ß√£o para evitar erro de refer√™ncia no HTML
    function saveSettings() {
      showToast('Configura√ß√µes salvas (simulado)!', 'success');
    }
    function openProductModal() {
      document.getElementById('productModal').style.display = 'flex';
    }
    function openCouponModal() {
      document.getElementById('couponModal').style.display = 'flex';
    }
    function openVideoManager() {
      document.getElementById('videoManagerModal').style.display = 'flex';
    }
    function closeProductModal() {
      document.getElementById('productModal').style.display = 'none';
    }
    function closeCouponModal() {
      document.getElementById('couponModal').style.display = 'none';
    }
    function closeVideoManager() {
      document.getElementById('videoManagerModal').style.display = 'none';
    }
    function switchAdminTab(tab) {
      document.querySelectorAll('.admin-tab-content').forEach(el => el.classList.remove('active'));
      document.getElementById(tab + 'Tab').classList.add('active');
      document.querySelectorAll('.admin-tab').forEach(el => el.classList.remove('active'));
      document.querySelector(`.admin-tab[onclick*='${tab}']`).classList.add('active');
    }
    function limparTodosProdutos() {
      if (confirm('Tem certeza que deseja limpar TODOS os produtos?')) {
        showToast('Produtos limpos (simulado)!', 'success');
      }
    }
    function toggleMaxDiscount() {
      // Simula√ß√£o de toggle
    }
    function handleImageUpload() {
      showToast('Upload de imagem (simulado)!', 'info');
    }
    function toggleUrlInput() {
      showToast('Toggle URL Input (simulado)!', 'info');
    }
    function toggleGradientInput() {
      showToast('Toggle Gradient Input (simulado)!', 'info');
    }
    function addColorToProduct() {
      showToast('Adicionar Cor (simulado)!', 'info');
    }
    function addImageFromUrl() {
      showToast('Adicionar Imagem por URL (simulado)!', 'info');
    }
    function addGradientImage() {
      showToast('Adicionar Gradiente (simulado)!', 'info');
    }
    function handleVideoUpload() {
      showToast('Upload de v√≠deo (simulado)!', 'info');
    }
    function saveProduct(event) {
      event.preventDefault();
      showToast('Produto salvo (simulado)!', 'success');
    }
    function saveCoupon(event) {
      event.preventDefault();
      showToast('Cupom salvo (simulado)!', 'success');
    }
  </script>
</body>
</html>
